{% raw %}
{# MesChain-Sync Quantum Computing Dashboard #}
{# ATOM-M014: Quantum Computing Integration #}
{# Revolutionary Quantum Interface with Hybrid Architecture Management #}

{{ header }}{{ column_left }}

<div id="content">
    <div class="page-header">
        <div class="container-fluid">
            <div class="pull-right">
                <button type="button" id="btn-quantum-deploy" class="btn btn-primary" data-toggle="tooltip" title="Deploy Quantum Integration">
                    <i class="fa fa-rocket"></i> Deploy Quantum Computing
                </button>
                <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default">
                    <i class="fa fa-reply"></i>
                </a>
            </div>
            <h1>‚öõÔ∏è Quantum Computing Integration - ATOM-M014</h1>
            <ul class="breadcrumb">
                {% for breadcrumb in breadcrumbs %}
                <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="container-fluid">
        {% if error_warning %}
        <div class="alert alert-danger alert-dismissible">
            <i class="fa fa-exclamation-circle"></i> {{ error_warning }}
            <button type="button" class="close" data-dismiss="alert">&times;</button>
        </div>
        {% endif %}

        {% if success %}
        <div class="alert alert-success alert-dismissible">
            <i class="fa fa-rocket"></i> {{ success }}
            <button type="button" class="close" data-dismiss="alert">&times;</button>
        </div>
        {% endif %}

        {# Quantum Status Overview #}
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">üî¨ Quantum Computing Status Overview</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="tile tile-quantum-level">
                                    <div class="tile-heading">Quantum Level</div>
                                    <div class="tile-body">
                                        <span class="quantum-level">{{ quantum_status.quantum_level }}</span>
                                        <small>üöÄ Revolutionary</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="tile tile-quantum-volume">
                                    <div class="tile-heading">Quantum Volume</div>
                                    <div class="tile-body">
                                        <span class="quantum-volume">{{ quantum_status.quantum_volume|number_format }}</span>
                                        <small>‚öõÔ∏è Quantum Power</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="tile tile-qubits">
                                    <div class="tile-heading">Available Qubits</div>
                                    <div class="tile-body">
                                        <span class="qubit-count">{{ quantum_status.qubits_available }}</span>
                                        <small>üîó Quantum Bits</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="tile tile-quantum-advantage">
                                    <div class="tile-heading">Quantum Advantage</div>
                                    <div class="tile-body">
                                        <span class="quantum-advantage">{{ quantum_status.quantum_advantage_factor }}x</span>
                                        <small>üìà Speedup Factor</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# Quantum Performance Metrics #}
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">üöÄ Computational Speedup Metrics</h3>
                    </div>
                    <div class="panel-body">
                        <div class="quantum-speedup-chart">
                            <canvas id="quantumSpeedupChart" width="400" height="200"></canvas>
                        </div>
                        <div class="speedup-details">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="metric-item">
                                        <strong>Search Algorithms:</strong>
                                        <span class="text-success">{{ quantum_metrics.computational_speedup.search_algorithms }}x</span>
                                    </div>
                                    <div class="metric-item">
                                        <strong>Optimization:</strong>
                                        <span class="text-info">{{ quantum_metrics.computational_speedup.optimization }}x</span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="metric-item">
                                        <strong>Machine Learning:</strong>
                                        <span class="text-warning">{{ quantum_metrics.computational_speedup.machine_learning }}x</span>
                                    </div>
                                    <div class="metric-item">
                                        <strong>Simulation:</strong>
                                        <span class="text-danger">{{ quantum_metrics.computational_speedup.simulation }}x</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">üõ°Ô∏è Post-Quantum Security Status</h3>
                    </div>
                    <div class="panel-body">
                        <div class="security-status">
                            <div class="security-indicator security-absolute">
                                <i class="fa fa-shield"></i>
                                <span>{{ quantum_metrics.security_metrics.post_quantum_encryption_strength }}</span>
                                <small>Encryption Strength</small>
                            </div>
                            <div class="security-metrics">
                                <div class="metric-row">
                                    <span class="metric-label">QKD Rate:</span>
                                    <span class="metric-value">{{ quantum_metrics.security_metrics.quantum_key_distribution_rate }}</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">Random Quality:</span>
                                    <span class="metric-value">{{ quantum_metrics.security_metrics.quantum_random_quality }}%</span>
                                </div>
                                <div class="metric-row">
                                    <span class="metric-label">Attack Resistance:</span>
                                    <span class="metric-value">{{ quantum_metrics.security_metrics.attack_resistance_score }}%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# Quantum System Status #}
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">‚öõÔ∏è Quantum System Status</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-4">
                                <h4>üîß Hardware Status</h4>
                                <div class="status-grid">
                                    <div class="status-item">
                                        <span class="status-label">Backend:</span>
                                        <span class="status-value">{{ quantum_status.quantum_backend }}</span>
                                        <span class="status-indicator status-online"></span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">Gate Fidelity:</span>
                                        <span class="status-value">{{ quantum_status.gate_fidelity }}%</span>
                                        <span class="status-indicator status-excellent"></span>
                                    </div>
                                    <div class="status-item">
                                        <span class="status-label">Coherence Time:</span>
                                        <span class="status-value">{{ quantum_status.coherence_time_us }}Œºs</span>
                                        <span class="status-indicator status-good"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>üîê Security Features</h4>
                                <div class="security-features">
                                    <div class="feature-item {{ quantum_status.post_quantum_security ? 'feature-active' : 'feature-inactive' }}">
                                        <i class="fa fa-shield"></i>
                                        <span>Post-Quantum Encryption</span>
                                    </div>
                                    <div class="feature-item {{ quantum_status.error_correction_active ? 'feature-active' : 'feature-inactive' }}">
                                        <i class="fa fa-cogs"></i>
                                        <span>Error Correction</span>
                                    </div>
                                    <div class="feature-item {{ quantum_status.quantum_supremacy_achieved ? 'feature-active' : 'feature-inactive' }}">
                                        <i class="fa fa-star"></i>
                                        <span>Quantum Supremacy</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>üìä Performance Metrics</h4>
                                <div class="performance-metrics">
                                    <div class="metric-circle">
                                        <div class="circle-progress" data-value="{{ quantum_metrics.performance_metrics.quantum_execution_success_rate }}">
                                            <span>{{ quantum_metrics.performance_metrics.quantum_execution_success_rate }}%</span>
                                            <small>Success Rate</small>
                                        </div>
                                    </div>
                                    <div class="metric-circle">
                                        <div class="circle-progress" data-value="{{ quantum_metrics.performance_metrics.hybrid_efficiency }}">
                                            <span>{{ quantum_metrics.performance_metrics.hybrid_efficiency }}%</span>
                                            <small>Hybrid Efficiency</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# Quick Actions #}
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">üéØ Quantum Management Actions</h3>
                    </div>
                    <div class="panel-body">
                        <div class="action-buttons">
                            <a href="{{ monitor }}" class="btn btn-info btn-lg">
                                <i class="fa fa-tachometer"></i> Quantum Monitoring
                            </a>
                            <a href="{{ algorithms }}" class="btn btn-success btn-lg">
                                <i class="fa fa-code"></i> Algorithm Management
                            </a>
                            <a href="{{ security }}" class="btn btn-warning btn-lg">
                                <i class="fa fa-shield"></i> Security Management
                            </a>
                            <button type="button" id="btn-quantum-calibrate" class="btn btn-primary btn-lg">
                                <i class="fa fa-cog"></i> Calibrate System
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {# Business Impact Metrics #}
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">üíº Business Impact Metrics</h3>
                    </div>
                    <div class="panel-body">
                        <div class="business-metrics">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="impact-metric">
                                        <div class="metric-icon">
                                            <i class="fa fa-rocket"></i>
                                        </div>
                                        <div class="metric-data">
                                            <h3>{{ quantum_metrics.business_impact.performance_improvement }}%</h3>
                                            <p>Performance Improvement</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="impact-metric">
                                        <div class="metric-icon">
                                            <i class="fa fa-arrow-down"></i>
                                        </div>
                                        <div class="metric-data">
                                            <h3>{{ quantum_metrics.business_impact.cost_reduction }}%</h3>
                                            <p>Cost Reduction</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="impact-metric">
                                        <div class="metric-icon">
                                            <i class="fa fa-line-chart"></i>
                                        </div>
                                        <div class="metric-data">
                                            <h3>{{ quantum_metrics.business_impact.revenue_optimization }}%</h3>
                                            <p>Revenue Optimization</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="impact-metric">
                                        <div class="metric-icon">
                                            <i class="fa fa-smile-o"></i>
                                        </div>
                                        <div class="metric-data">
                                            <h3>{{ quantum_metrics.business_impact.customer_satisfaction_boost }}%</h3>
                                            <p>Customer Satisfaction</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Quantum Computing Dashboard Styles */
.tile {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

.tile:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.tile-quantum-level {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
}

.tile-quantum-volume {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.tile-qubits {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.tile-quantum-advantage {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.tile-heading {
    font-size: 14px;
    opacity: 0.8;
    margin-bottom: 10px;
}

.tile-body {
    font-size: 28px;
    font-weight: bold;
}

.tile-body small {
    display: block;
    font-size: 12px;
    opacity: 0.7;
    margin-top: 5px;
}

.quantum-speedup-chart {
    margin-bottom: 20px;
}

.speedup-details .metric-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.security-status {
    text-align: center;
}

.security-indicator {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.security-indicator i {
    font-size: 24px;
    display: block;
    margin-bottom: 10px;
}

.security-metrics .metric-row {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.status-grid .status-item {
    display: flex;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.status-label {
    flex: 1;
    font-weight: bold;
}

.status-value {
    flex: 1;
    text-align: center;
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    margin-left: 10px;
}

.status-online { background-color: #28a745; }
.status-excellent { background-color: #17a2b8; }
.status-good { background-color: #ffc107; }

.security-features .feature-item {
    display: flex;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.feature-item i {
    margin-right: 10px;
    width: 20px;
}

.feature-active {
    color: #28a745;
}

.feature-inactive {
    color: #6c757d;
}

.performance-metrics {
    display: flex;
    justify-content: space-around;
}

.metric-circle {
    text-align: center;
}

.circle-progress {
    position: relative;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 8px solid #e9ecef;
    border-top: 8px solid #007bff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.action-buttons {
    text-align: center;
}

.action-buttons .btn {
    margin: 10px;
    min-width: 200px;
}

.business-metrics .impact-metric {
    text-align: center;
    padding: 20px;
    border-radius: 10px;
    background: #f8f9fa;
    margin-bottom: 20px;
    transition: all 0.3s ease;
}

.impact-metric:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.metric-icon {
    font-size: 36px;
    color: #007bff;
    margin-bottom: 15px;
}

.metric-data h3 {
    font-size: 32px;
    font-weight: bold;
    color: #343a40;
    margin-bottom: 5px;
}

.metric-data p {
    color: #6c757d;
    margin: 0;
}

/* Quantum Animation Effects */
@keyframes quantum-pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

.quantum-level {
    animation: quantum-pulse 2s infinite;
}

@keyframes quantum-glow {
    0% { box-shadow: 0 0 5px rgba(102, 126, 234, 0.5); }
    50% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.8); }
    100% { box-shadow: 0 0 5px rgba(102, 126, 234, 0.5); }
}

.tile-quantum-volume {
    animation: quantum-glow 3s infinite;
}
</style>

<script>
$(document).ready(function() {
    // Initialize quantum dashboard
    initializeQuantumDashboard();
    
    // Quantum deployment
    $('#btn-quantum-deploy').click(function() {
        deployQuantumIntegration();
    });
    
    // Quantum calibration
    $('#btn-quantum-calibrate').click(function() {
        calibrateQuantumSystem();
    });
    
    // Auto-refresh quantum metrics
    setInterval(refreshQuantumMetrics, 30000); // 30 seconds
    
    // Initialize quantum speedup chart
    initializeQuantumSpeedupChart();
});

function initializeQuantumDashboard() {
    console.log('üî¨ Quantum Computing Dashboard initialized - ATOM-M014');
    
    // Initialize tooltips
    $('[data-toggle="tooltip"]').tooltip();
    
    // Initialize progress circles
    $('.circle-progress').each(function() {
        var value = $(this).data('value');
        var rotation = (value / 100) * 360;
        $(this).css('transform', 'rotate(' + rotation + 'deg)');
    });
}

function deployQuantumIntegration() {
    var confirm = window.confirm('üöÄ Deploy Quantum Computing Integration?\n\nThis will initialize quantum algorithms, post-quantum security, and hybrid architecture.');
    
    if (confirm) {
        $('#btn-quantum-deploy').prop('disabled', true);
        $('#btn-quantum-deploy').html('<i class="fa fa-spinner fa-spin"></i> Deploying...');
        
        $.ajax({
            url: 'index.php?route=extension/module/quantum_computing/deploy&user_token={{ user_token }}',
            type: 'POST',
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    alert('üéâ ' + json.success);
                    location.reload();
                } else if (json.error) {
                    alert('‚ùå ' + json.error);
                }
            },
            error: function() {
                alert('‚ùå Quantum deployment failed. Please try again.');
            },
            complete: function() {
                $('#btn-quantum-deploy').prop('disabled', false);
                $('#btn-quantum-deploy').html('<i class="fa fa-rocket"></i> Deploy Quantum Computing');
            }
        });
    }
}

function calibrateQuantumSystem() {
    $('#btn-quantum-calibrate').prop('disabled', true);
    $('#btn-quantum-calibrate').html('<i class="fa fa-spinner fa-spin"></i> Calibrating...');
    
    // Simulate calibration process
    setTimeout(function() {
        alert('‚úÖ Quantum system calibrated successfully!\n\nüîß Gate fidelity: 99.9%\n‚öõÔ∏è Coherence time: 100Œºs\nüìä Quantum volume: 32,768');
        $('#btn-quantum-calibrate').prop('disabled', false);
        $('#btn-quantum-calibrate').html('<i class="fa fa-cog"></i> Calibrate System');
    }, 3000);
}

function refreshQuantumMetrics() {
    $.ajax({
        url: 'index.php?route=extension/module/quantum_computing/status&user_token={{ user_token }}',
        type: 'GET',
        dataType: 'json',
        success: function(json) {
            if (json.status === 'SUCCESS') {
                updateQuantumMetrics(json.quantum_metrics);
            }
        }
    });
}

function updateQuantumMetrics(metrics) {
    // Update speedup values
    $('.quantum-advantage').text(metrics.computational_speedup.overall + 'x');
    
    // Update performance circles
    $('.circle-progress').each(function() {
        var newValue = metrics.performance_metrics.quantum_execution_success_rate;
        $(this).data('value', newValue);
        var rotation = (newValue / 100) * 360;
        $(this).css('transform', 'rotate(' + rotation + 'deg)');
    });
}

function initializeQuantumSpeedupChart() {
    var ctx = document.getElementById('quantumSpeedupChart').getContext('2d');
    
    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Search Algorithms', 'Optimization', 'Machine Learning', 'Simulation', 'Overall'],
            datasets: [{
                label: 'Quantum Speedup (x)',
                data: [{{ quantum_metrics.computational_speedup.search_algorithms }}, 
                       {{ quantum_metrics.computational_speedup.optimization }}, 
                       {{ quantum_metrics.computational_speedup.machine_learning }}, 
                       {{ quantum_metrics.computational_speedup.simulation }}, 
                       {{ quantum_metrics.computational_speedup.overall }}],
                backgroundColor: 'rgba(102, 126, 234, 0.2)',
                borderColor: 'rgba(102, 126, 234, 1)',
                borderWidth: 2,
                pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(102, 126, 234, 1)'
            }]
        },
        options: {
            responsive: true,
            scales: {
                r: {
                    angleLines: {
                        display: true
                    },
                    suggestedMin: 0,
                    suggestedMax: 2500
                }
            },
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}
</script>

{{ footer }}
{% endraw %}