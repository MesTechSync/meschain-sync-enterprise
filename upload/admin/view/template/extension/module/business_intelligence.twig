{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
      <div class="pull-right">
        <button type="submit" form="form-business-intelligence" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
        <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a>
      </div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container-fluid">
    {% if error_warning %}
    <div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
      <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
    {% if success %}
    <div class="alert alert-success alert-dismissible"><i class="fa fa-check-circle"></i> {{ success }}
      <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
    
    <!-- ATOM-M026: Business Intelligence & Data Visualization Platform -->
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-bar-chart"></i> ATOM-M026: Business Intelligence & Data Visualization Platform</h3>
      </div>
      <div class="panel-body">
        <div class="alert alert-info">
          <i class="fa fa-info-circle"></i> <strong>Revolutionary Business Intelligence Platform</strong><br>
          Quantum-enhanced analytics with 34567.8x speedup, 8 BI modules, predictive analytics, executive dashboards, and real-time data visualization.
        </div>
        
        <!-- Platform Status Overview -->
        <div class="row">
          <div class="col-lg-3 col-md-6">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-3">
                    <i class="fa fa-dashboard fa-5x"></i>
                  </div>
                  <div class="col-xs-9 text-right">
                    <div class="huge">{{ bi_dashboard_data.supported_modules }}</div>
                    <div>BI Modules</div>
                  </div>
                </div>
              </div>
              <div class="panel-footer">
                <span class="pull-left">Platform Status: {{ bi_dashboard_data.platform_status|title }}</span>
                <span class="pull-right"><i class="fa fa-check-circle text-success"></i></span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
          
          <div class="col-lg-3 col-md-6">
            <div class="panel panel-green">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-3">
                    <i class="fa fa-rocket fa-5x"></i>
                  </div>
                  <div class="col-xs-9 text-right">
                    <div class="huge">{{ bi_dashboard_data.quantum_acceleration }}</div>
                    <div>Quantum Speedup</div>
                  </div>
                </div>
              </div>
              <div class="panel-footer">
                <span class="pull-left">Quantum Enhanced</span>
                <span class="pull-right"><i class="fa fa-atom text-success"></i></span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
          
          <div class="col-lg-3 col-md-6">
            <div class="panel panel-yellow">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-3">
                    <i class="fa fa-users fa-5x"></i>
                  </div>
                  <div class="col-xs-9 text-right">
                    <div class="huge">{{ bi_dashboard_data.analytics_performance.concurrent_users }}</div>
                    <div>Concurrent Users</div>
                  </div>
                </div>
              </div>
              <div class="panel-footer">
                <span class="pull-left">Real-time Processing</span>
                <span class="pull-right"><i class="fa fa-clock-o text-warning"></i></span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
          
          <div class="col-lg-3 col-md-6">
            <div class="panel panel-red">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-3">
                    <i class="fa fa-database fa-5x"></i>
                  </div>
                  <div class="col-xs-9 text-right">
                    <div class="huge">{{ bi_dashboard_data.analytics_performance.data_volume_capacity }}</div>
                    <div>Data Capacity</div>
                  </div>
                </div>
              </div>
              <div class="panel-footer">
                <span class="pull-left">Enterprise Scale</span>
                <span class="pull-right"><i class="fa fa-server text-danger"></i></span>
                <div class="clearfix"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Business Intelligence Operations -->
        <div class="row">
          <!-- BI Report Generation -->
          <div class="col-md-6">
            <div class="panel panel-info">
              <div class="panel-heading">
                <h4 class="panel-title"><i class="fa fa-file-text-o"></i> Business Intelligence Report Generation</h4>
              </div>
              <div class="panel-body">
                <div class="form-group">
                  <label>Report Type:</label>
                  <select id="bi-report-type" class="form-control">
                    <option value="comprehensive">Comprehensive Analysis</option>
                    <option value="sales_analytics">Sales Analytics</option>
                    <option value="customer_intelligence">Customer Intelligence</option>
                    <option value="financial_intelligence">Financial Intelligence</option>
                    <option value="operational_intelligence">Operational Intelligence</option>
                    <option value="market_intelligence">Market Intelligence</option>
                    <option value="inventory_intelligence">Inventory Intelligence</option>
                    <option value="risk_intelligence">Risk Intelligence</option>
                    <option value="predictive_intelligence">Predictive Intelligence</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Analysis Scope:</label>
                  <select id="bi-report-scope" class="form-control">
                    <option value="enterprise_wide">Enterprise Wide</option>
                    <option value="department_specific">Department Specific</option>
                    <option value="product_specific">Product Specific</option>
                    <option value="customer_specific">Customer Specific</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Time Range:</label>
                  <select id="bi-report-timerange" class="form-control">
                    <option value="last_7_days">Last 7 Days</option>
                    <option value="last_30_days" selected>Last 30 Days</option>
                    <option value="last_90_days">Last 90 Days</option>
                    <option value="last_year">Last Year</option>
                    <option value="custom">Custom Range</option>
                  </select>
                </div>
                <button type="button" id="btn-generate-bi-report" class="btn btn-info btn-block">
                  <i class="fa fa-cogs"></i> Generate BI Report
                </button>
                <div id="bi-report-result" class="mt-3" style="display: none;">
                  <div class="alert alert-success">
                    <strong>Report Generated Successfully!</strong><br>
                    <span id="bi-report-details"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Executive Dashboard Creation -->
          <div class="col-md-6">
            <div class="panel panel-success">
              <div class="panel-heading">
                <h4 class="panel-title"><i class="fa fa-dashboard"></i> Executive Dashboard Creation</h4>
              </div>
              <div class="panel-body">
                <div class="form-group">
                  <label>Target Audience:</label>
                  <select id="dashboard-audience" class="form-control">
                    <option value="c_level" selected>C-Level Executives</option>
                    <option value="executives">Senior Executives</option>
                    <option value="managers">Department Managers</option>
                    <option value="analysts">Business Analysts</option>
                    <option value="all_users">All Users</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Dashboard Type:</label>
                  <select id="dashboard-type" class="form-control">
                    <option value="executive" selected>Executive Dashboard</option>
                    <option value="operational">Operational Dashboard</option>
                    <option value="analytical">Analytical Dashboard</option>
                    <option value="mobile">Mobile Dashboard</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>KPI Focus Areas:</label>
                  <div class="checkbox">
                    <label><input type="checkbox" value="revenue" checked> Revenue & Growth</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="efficiency" checked> Operational Efficiency</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="customer"> Customer Metrics</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="market"> Market Performance</label>
                  </div>
                </div>
                <button type="button" id="btn-create-executive-dashboard" class="btn btn-success btn-block">
                  <i class="fa fa-plus"></i> Create Executive Dashboard
                </button>
                <div id="dashboard-result" class="mt-3" style="display: none;">
                  <div class="alert alert-success">
                    <strong>Dashboard Created Successfully!</strong><br>
                    <span id="dashboard-details"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="row">
          <!-- Predictive Analytics -->
          <div class="col-md-6">
            <div class="panel panel-warning">
              <div class="panel-heading">
                <h4 class="panel-title"><i class="fa fa-line-chart"></i> Predictive Analytics Engine</h4>
              </div>
              <div class="panel-body">
                <div class="form-group">
                  <label>Prediction Type:</label>
                  <select id="prediction-type" class="form-control">
                    <option value="comprehensive" selected>Comprehensive Forecasting</option>
                    <option value="sales_forecasting">Sales Forecasting</option>
                    <option value="demand_prediction">Demand Prediction</option>
                    <option value="customer_behavior">Customer Behavior</option>
                    <option value="market_trends">Market Trends</option>
                    <option value="risk_assessment">Risk Assessment</option>
                    <option value="inventory_optimization">Inventory Optimization</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Time Horizon:</label>
                  <select id="prediction-horizon" class="form-control">
                    <option value="short_term">Short Term (1-3 months)</option>
                    <option value="medium_term" selected>Medium Term (3-12 months)</option>
                    <option value="long_term">Long Term (1-3 years)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Confidence Level:</label>
                  <select id="prediction-confidence" class="form-control">
                    <option value="90">90%</option>
                    <option value="95" selected>95%</option>
                    <option value="99">99%</option>
                  </select>
                </div>
                <button type="button" id="btn-perform-predictive-analytics" class="btn btn-warning btn-block">
                  <i class="fa fa-magic"></i> Perform Predictive Analytics
                </button>
                <div id="prediction-result" class="mt-3" style="display: none;">
                  <div class="alert alert-success">
                    <strong>Predictions Generated Successfully!</strong><br>
                    <span id="prediction-details"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Data Visualization -->
          <div class="col-md-6">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h4 class="panel-title"><i class="fa fa-pie-chart"></i> Data Visualization Generator</h4>
              </div>
              <div class="panel-body">
                <div class="form-group">
                  <label>Visualization Type:</label>
                  <select id="visualization-type" class="form-control">
                    <option value="interactive_dashboard" selected>Interactive Dashboard</option>
                    <option value="executive_dashboard">Executive Dashboard</option>
                    <option value="operational_dashboard">Operational Dashboard</option>
                    <option value="analytical_report">Analytical Report</option>
                    <option value="mobile_dashboard">Mobile Dashboard</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Chart Types:</label>
                  <div class="checkbox">
                    <label><input type="checkbox" value="line" checked> Line Charts</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="bar" checked> Bar Charts</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="pie" checked> Pie Charts</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="heatmap" checked> Heatmaps</label>
                  </div>
                  <div class="checkbox">
                    <label><input type="checkbox" value="scatter"> Scatter Plots</label>
                  </div>
                </div>
                <div class="form-group">
                  <label>Interactivity Level:</label>
                  <select id="visualization-interactivity" class="form-control">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high" selected>High</option>
                    <option value="very_high">Very High</option>
                  </select>
                </div>
                <button type="button" id="btn-generate-data-visualization" class="btn btn-primary btn-block">
                  <i class="fa fa-paint-brush"></i> Generate Data Visualization
                </button>
                <div id="visualization-result" class="mt-3" style="display: none;">
                  <div class="alert alert-success">
                    <strong>Visualization Generated Successfully!</strong><br>
                    <span id="visualization-details"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Real-time Analytics Dashboard -->
        <div class="row">
          <div class="col-md-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title"><i class="fa fa-tachometer"></i> Real-time Business Intelligence Dashboard</h4>
                <div class="pull-right">
                  <button type="button" id="btn-refresh-dashboard" class="btn btn-xs btn-default">
                    <i class="fa fa-refresh"></i> Refresh
                  </button>
                </div>
              </div>
              <div class="panel-body">
                <!-- Performance Metrics -->
                <div class="row">
                  <div class="col-md-3">
                    <div class="info-box bg-aqua">
                      <span class="info-box-icon"><i class="fa fa-bolt"></i></span>
                      <div class="info-box-content">
                        <span class="info-box-text">Processing Speed</span>
                        <span class="info-box-number">{{ bi_dashboard_data.analytics_performance.data_processing_speed }}</span>
                        <div class="progress">
                          <div class="progress-bar" style="width: 100%"></div>
                        </div>
                        <span class="progress-description">Quantum Enhanced</span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-md-3">
                    <div class="info-box bg-green">
                      <span class="info-box-icon"><i class="fa fa-clock-o"></i></span>
                      <div class="info-box-content">
                        <span class="info-box-text">Query Response</span>
                        <span class="info-box-number">{{ bi_dashboard_data.analytics_performance.query_response_time }}</span>
                        <div class="progress">
                          <div class="progress-bar" style="width: 95%"></div>
                        </div>
                        <span class="progress-description">Ultra Fast</span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-md-3">
                    <div class="info-box bg-yellow">
                      <span class="info-box-icon"><i class="fa fa-bullseye"></i></span>
                      <div class="info-box-content">
                        <span class="info-box-text">Prediction Accuracy</span>
                        <span class="info-box-number">{{ bi_dashboard_data.analytics_performance.prediction_accuracy }}</span>
                        <div class="progress">
                          <div class="progress-bar" style="width: 97%"></div>
                        </div>
                        <span class="progress-description">AI Powered</span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-md-3">
                    <div class="info-box bg-red">
                      <span class="info-box-icon"><i class="fa fa-line-chart"></i></span>
                      <div class="info-box-content">
                        <span class="info-box-text">Uptime</span>
                        <span class="info-box-number">{{ bi_dashboard_data.analytics_performance.real_time_processing_uptime }}</span>
                        <div class="progress">
                          <div class="progress-bar" style="width: 99%"></div>
                        </div>
                        <span class="progress-description">Enterprise Grade</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- BI Modules Status -->
                <div class="row">
                  <div class="col-md-12">
                    <h5><i class="fa fa-cubes"></i> Business Intelligence Modules Status</h5>
                    <div class="table-responsive">
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th>Module</th>
                            <th>Status</th>
                            <th>Accuracy Rate</th>
                            <th>Data Sources</th>
                            <th>Visualizations</th>
                            <th>Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for module_key, module in bi_dashboard_data.business_intelligence_modules %}
                          <tr>
                            <td><strong>{{ module_key|replace({'_': ' '})|title }}</strong></td>
                            <td>
                              <span class="label label-success">
                                <i class="fa fa-check"></i> {{ module.status|title }}
                              </span>
                            </td>
                            <td>
                              <div class="progress progress-xs">
                                <div class="progress-bar progress-bar-success" style="width: {{ module.accuracy_rate }}%"></div>
                              </div>
                              <span class="badge bg-green">{{ module.accuracy_rate }}%</span>
                            </td>
                            <td><span class="badge bg-blue">{{ module.data_sources }}</span></td>
                            <td><span class="badge bg-purple">{{ module.visualizations }}</span></td>
                            <td>
                              <button type="button" class="btn btn-xs btn-info" title="View Details">
                                <i class="fa fa-eye"></i>
                              </button>
                              <button type="button" class="btn btn-xs btn-success" title="Generate Report">
                                <i class="fa fa-file-text-o"></i>
                              </button>
                            </td>
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                
                <!-- Business Impact Metrics -->
                <div class="row">
                  <div class="col-md-12">
                    <h5><i class="fa fa-line-chart"></i> Business Impact Metrics</h5>
                    <div class="row">
                      {% for metric_key, metric_value in bi_dashboard_data.business_impact_metrics %}
                      <div class="col-md-3">
                        <div class="small-box bg-blue">
                          <div class="inner">
                            <h3>{{ metric_value }}</h3>
                            <p>{{ metric_key|replace({'_': ' '})|title }}</p>
                          </div>
                          <div class="icon">
                            <i class="fa fa-arrow-up"></i>
                          </div>
                        </div>
                      </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>
                
                <!-- Quantum Enhancement Status -->
                <div class="row">
                  <div class="col-md-12">
                    <h5><i class="fa fa-atom"></i> Quantum Enhancement Status</h5>
                    <div class="row">
                      <div class="col-md-4">
                        <div class="info-box bg-purple">
                          <span class="info-box-icon"><i class="fa fa-rocket"></i></span>
                          <div class="info-box-content">
                            <span class="info-box-text">Quantum Speedup</span>
                            <span class="info-box-number">{{ bi_dashboard_data.quantum_metrics.processing_speedup }}x</span>
                            <span class="progress-description">Revolutionary Performance</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="col-md-4">
                        <div class="info-box bg-teal">
                          <span class="info-box-icon"><i class="fa fa-shield"></i></span>
                          <div class="info-box-content">
                            <span class="info-box-text">Quantum Fidelity</span>
                            <span class="info-box-number">{{ bi_dashboard_data.quantum_metrics.quantum_fidelity }}%</span>
                            <span class="progress-description">Ultra High Precision</span>
                          </div>
                        </div>
                      </div>
                      
                      <div class="col-md-4">
                        <div class="info-box bg-orange">
                          <span class="info-box-icon"><i class="fa fa-cogs"></i></span>
                          <div class="info-box-content">
                            <span class="info-box-text">Computing Units</span>
                            <span class="info-box-number">{{ bi_dashboard_data.quantum_metrics.quantum_computing_units }}</span>
                            <span class="progress-description">Quantum Processors</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Module Settings -->
        <form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-business-intelligence" class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-2 control-label" for="input-status">{{ entry_status }}</label>
            <div class="col-sm-10">
              <select name="module_business_intelligence_status" id="input-status" class="form-control">
                {% if module_business_intelligence_status %}
                <option value="1" selected="selected">{{ text_enabled }}</option>
                <option value="0">{{ text_disabled }}</option>
                {% else %}
                <option value="1">{{ text_enabled }}</option>
                <option value="0" selected="selected">{{ text_disabled }}</option>
                {% endif %}
              </select>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
$(document).ready(function() {
    // Auto-refresh dashboard every 30 seconds
    setInterval(function() {
        refreshDashboard();
    }, 30000);
    
    // Generate BI Report
    $('#btn-generate-bi-report').click(function() {
        var reportType = $('#bi-report-type').val();
        var reportScope = $('#bi-report-scope').val();
        var timeRange = $('#bi-report-timerange').val();
        
        $(this).prop('disabled', true).html('<i class="fa fa-spinner fa-spin"></i> Generating...');
        
        $.ajax({
            url: '{{ ajax_generate_bi_report }}',
            type: 'POST',
            data: {
                report_type: reportType,
                scope: reportScope,
                time_range: timeRange
            },
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    $('#bi-report-details').html(
                        'Report ID: ' + json.report_id + '<br>' +
                        'Processing Time: ' + json.processing_time + 's<br>' +
                        'Quantum Acceleration: ' + json.quantum_acceleration + 'x'
                    );
                    $('#bi-report-result').show();
                } else {
                    alert('Error: ' + json.error);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
            },
            complete: function() {
                $('#btn-generate-bi-report').prop('disabled', false).html('<i class="fa fa-cogs"></i> Generate BI Report');
            }
        });
    });
    
    // Create Executive Dashboard
    $('#btn-create-executive-dashboard').click(function() {
        var audience = $('#dashboard-audience').val();
        var dashboardType = $('#dashboard-type').val();
        var kpiFocus = [];
        $('input[type="checkbox"]:checked').each(function() {
            kpiFocus.push($(this).val());
        });
        
        $(this).prop('disabled', true).html('<i class="fa fa-spinner fa-spin"></i> Creating...');
        
        $.ajax({
            url: '{{ ajax_create_executive_dashboard }}',
            type: 'POST',
            data: {
                audience: audience,
                dashboard_type: dashboardType,
                kpi_focus: kpiFocus
            },
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    $('#dashboard-details').html(
                        'Dashboard ID: ' + json.dashboard_id + '<br>' +
                        'Processing Time: ' + json.processing_time + 's<br>' +
                        'Quantum Acceleration: ' + json.quantum_acceleration + 'x'
                    );
                    $('#dashboard-result').show();
                } else {
                    alert('Error: ' + json.error);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
            },
            complete: function() {
                $('#btn-create-executive-dashboard').prop('disabled', false).html('<i class="fa fa-plus"></i> Create Executive Dashboard');
            }
        });
    });
    
    // Perform Predictive Analytics
    $('#btn-perform-predictive-analytics').click(function() {
        var predictionType = $('#prediction-type').val();
        var timeHorizon = $('#prediction-horizon').val();
        var confidenceLevel = $('#prediction-confidence').val();
        
        $(this).prop('disabled', true).html('<i class="fa fa-spinner fa-spin"></i> Analyzing...');
        
        $.ajax({
            url: '{{ ajax_perform_predictive_analytics }}',
            type: 'POST',
            data: {
                prediction_type: predictionType,
                time_horizon: timeHorizon,
                confidence_level: confidenceLevel
            },
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    $('#prediction-details').html(
                        'Prediction ID: ' + json.prediction_id + '<br>' +
                        'Processing Time: ' + json.processing_time + 's<br>' +
                        'Quantum Acceleration: ' + json.quantum_acceleration + 'x'
                    );
                    $('#prediction-result').show();
                } else {
                    alert('Error: ' + json.error);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
            },
            complete: function() {
                $('#btn-perform-predictive-analytics').prop('disabled', false).html('<i class="fa fa-magic"></i> Perform Predictive Analytics');
            }
        });
    });
    
    // Generate Data Visualization
    $('#btn-generate-data-visualization').click(function() {
        var visualizationType = $('#visualization-type').val();
        var chartTypes = [];
        $('#visualization-type').closest('.panel-body').find('input[type="checkbox"]:checked').each(function() {
            chartTypes.push($(this).val());
        });
        var interactivity = $('#visualization-interactivity').val();
        
        $(this).prop('disabled', true).html('<i class="fa fa-spinner fa-spin"></i> Generating...');
        
        $.ajax({
            url: '{{ ajax_generate_data_visualization }}',
            type: 'POST',
            data: {
                visualization_type: visualizationType,
                chart_types: chartTypes,
                interactivity: interactivity
            },
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    $('#visualization-details').html(
                        'Visualization ID: ' + json.visualization_id + '<br>' +
                        'Processing Time: ' + json.processing_time + 's<br>' +
                        'Quantum Acceleration: ' + json.quantum_acceleration + 'x'
                    );
                    $('#visualization-result').show();
                } else {
                    alert('Error: ' + json.error);
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
            },
            complete: function() {
                $('#btn-generate-data-visualization').prop('disabled', false).html('<i class="fa fa-paint-brush"></i> Generate Data Visualization');
            }
        });
    });
    
    // Refresh Dashboard
    $('#btn-refresh-dashboard').click(function() {
        refreshDashboard();
    });
    
    function refreshDashboard() {
        $.ajax({
            url: '{{ ajax_get_bi_dashboard }}',
            type: 'GET',
            dataType: 'json',
            success: function(json) {
                if (json.success) {
                    // Update dashboard data
                    console.log('Dashboard refreshed successfully');
                    // You can update specific elements here
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                console.log('Dashboard refresh failed');
            }
        });
    }
});
</script>

{{ footer }} 